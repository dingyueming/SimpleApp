<p class="MsoListParagraph" style="margin-bottom:auto;">
    <strong><span style="font-size:19px;font-family:宋体">⒈<span style="font:9px &#39;Times New Roman&#39;">&nbsp;&nbsp; </span></span></strong><strong><span style="font-size:19px;font-family: 宋体">协议说明</span></strong>
</p>
<p class="MsoListParagraph" style="text-indent:32px;line-height:150%">
    <span style="font-size:16px;line-height:150%;font-family:宋体">定位数据数据通信采用</span><span style="font-size:16px;line-height:150%">UDP</span><span style="font-size: 16px;line-height:150%;font-family:宋体">协议进行通信，数据接收端为服务端，数据发送端为客户端。</span>
</p>
<p class="MsoListParagraph" style="text-indent:32px;line-height:150%">
    <span style="font-size:16px;line-height:150%;font-family:宋体">客户端无需认证，直接向服务端发送</span><span style="font-size:16px;line-height:150%">GPS</span><span style="font-size: 16px;line-height:150%;font-family:宋体">定位数据。</span>
</p>
<p class="MsoListParagraph" style="text-indent:32px;line-height:150%">
    <span style="font-size:16px;line-height:150%;font-family:宋体">默认端口：</span><span style="font-size:16px;line-height:150%">8889</span><span style="font-size: 16px;line-height:150%;font-family:宋体">。</span>
</p>
<p class="MsoListParagraph" style="margin-bottom:auto;">
    <strong><span style="font-size:19px;font-family:宋体">⒉<span style="font:9px &#39;Times New Roman&#39;">&nbsp;&nbsp; </span></span></strong><strong><span style="font-size:19px;font-family: 宋体">接口方式</span></strong>
</p>
<p class="MsoListParagraph" style="text-indent:32px;line-height:150%">
    <span style="font-size:16px">SOCKET</span>
</p>
<p class="MsoListParagraph" style="margin-bottom:auto;">
    <strong><span style="font-size:19px;font-family:宋体">⒊<span style="font:9px &#39;Times New Roman&#39;">&nbsp;&nbsp; </span></span></strong><strong><span style="font-size:19px;font-family: 宋体">适用范围</span></strong>
</p>
<p class="MsoListParagraph" style="text-indent:32px;line-height:150%">
    <span style="font-size:16px;font-family:宋体">公安内网</span>
</p>
<p class="MsoListParagraph" style="margin-bottom:auto;">
    <strong><span style="font-size:19px;font-family:宋体">⒋<span style="font:9px &#39;Times New Roman&#39;">&nbsp;&nbsp; </span></span></strong><strong><span style="font-size:19px;font-family: 宋体">接口定义</span></strong>
</p>
<p class="MsoListParagraph" style="margin-left:0;text-indent:0;line-height:150%">
    <span style="font-size:16px;line-height:150%">1)<span style="font:9px &#39;Times New Roman&#39;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:16px;line-height:150%;font-family:宋体">通信数据包定义</span>
</p>
<table width="100%">
    <tbody>
        <tr class="firstRow">
            <td width="65" colspan="4" valign="top" style="border: 1px solid windowtext; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:center;text-indent:   0">
                    <strong><span style="font-size:16px;font-family:宋体">数据头</span></strong>
                </p>
            </td>
            <td width="34" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:center;text-indent:   0">
                    <strong><span style="font-size:16px;font-family:宋体">数据体</span></strong>
                </p>
            </td>
        </tr>
        <tr>
            <td width="13" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:   宋体">标志头</span>
                </p>
            </td>
            <td width="17" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:   宋体">命令标志</span>
                </p>
            </td>
            <td width="16" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:   宋体">版本号</span>
                </p>
            </td>
            <td width="18" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:   宋体">包体长度</span>
                </p>
            </td>
            <td width="34" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:   宋体">数据内容</span>
                </p>
            </td>
        </tr>
        <tr>
            <td width="13" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%">2Byte</span>
                </p>
            </td>
            <td width="17" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%">2Byte</span>
                </p>
            </td>
            <td width="16" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%">2Byte</span>
                </p>
            </td>
            <td width="18" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%">4Byte</span>
                </p>
            </td>
            <td width="34" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%">nByte</span>
                </p>
            </td>
        </tr>
    </tbody>
</table>
<p class="MsoListParagraph" style="text-indent:32px;line-height:150%">
    <span style="font-size:16px;line-height:150%;font-family:宋体">其中，包体长度只包括“数据体”长度，不包括“包头”部分。</span>
</p>
<p class="MsoListParagraph" style="margin-left:0;text-indent:0;line-height:150%">
    <span style="font-size:16px;line-height:150%">2)<span style="font:9px &#39;Times New Roman&#39;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:16px;line-height:150%;font-family:宋体">数据包头定义格式</span>
</p>
<table width="100%">
    <tbody>
        <tr class="firstRow">
            <td width="23" valign="top" style="border: 1px solid windowtext; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:center;text-indent:   0">
                    <strong><span style="font-size:16px;font-family:宋体">参数名称</span></strong>
                </p>
            </td>
            <td width="16" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:center;text-indent:   0">
                    <strong><span style="font-size:16px;font-family:宋体">值</span></strong>
                </p>
            </td>
            <td width="60" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:center;text-indent:   0">
                    <strong><span style="font-size:16px;font-family:宋体">说明</span></strong>
                </p>
            </td>
        </tr>
        <tr>
            <td width="23" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">标志头</span>
                </p>
            </td>
            <td width="16" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">0xAAAA</span>
                </p>
            </td>
            <td width="60" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">固定值，必须</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="23" rowspan="2" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:   宋体">命令标志</span>
                </p>
            </td>
            <td width="16" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">0xCCCC</span>
                </p>
            </td>
            <td width="60" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">实时定位消息</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="16" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">0xDDDD</span>
                </p>
            </td>
            <td width="60" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">状态消息</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="23" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">版本号</span>
                </p>
            </td>
            <td width="16" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">0x0301</span>
                </p>
            </td>
            <td width="60" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">高字节为主版本号，低字节为次版本号，目前版本号为</span><span style="font-size:   16px;line-height:150%">3.1</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="23" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">包体长度</span>
                </p>
            </td>
            <td width="16" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">可变</span>
                </p>
            </td>
            <td width="60" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">网络字节序</span>
                </p>
            </td>
        </tr>
    </tbody>
</table>
<p class="MsoListParagraph" style="margin-left:0;text-indent:0;line-height:150%">
    <span style="font-size:16px;line-height:150%">3)<span style="font:9px &#39;Times New Roman&#39;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:16px;line-height:150%;font-family:宋体">定位消息体报文</span>
</p>
<table width="100%">
    <tbody>
        <tr class="firstRow">
            <td width="17" colspan="2" valign="top" style="border: 1px solid windowtext; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0">
                    <strong><span style="font-size:16px;font-family:   宋体">字段标志</span></strong>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0">
                    <strong><span style="font-size:16px;font-family:   宋体">长度</span></strong>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0">
                    <strong><span style="font-size:16px;font-family:   宋体">字段类型</span></strong>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0">
                    <strong><span style="font-size:16px;font-family:   宋体">参数值</span></strong>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0">
                    <strong><span style="font-size:16px;font-family:   宋体">说明</span></strong>
                </p>
            </td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">设备编号</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">20</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned char</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-family:宋体">实际长度不足</span>20<span style="font-family:宋体">字节时，右补二进制</span>0
                </p>
            </td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">经度</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">8</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Double</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">例：</span><span style="font-size:16px;line-height:150%">121.12345</span>
                </p>
            </td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">纬度</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">8</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Double</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">例：</span><span style="font-size:16px;line-height:150%">31.123456</span>
                </p>
            </td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">速度</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">2</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned short</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">单位：米</span><span style="font-size:16px;line-height:   150%">/</span><span style="font-size:16px;line-height:150%;font-family:   宋体">秒</span>
                </p>
            </td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">方向</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">2</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned short</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">以正北方向为</span><span style="font-size:16px;line-height:   150%">0</span><span style="font-size:16px;line-height:150%;font-family:   宋体">角度，顺时针方向偏转。</span>
                </p>
            </td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">高程</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">2</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned short</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">米（无高程填</span><span style="font-size:16px;line-height:   150%">0</span><span style="font-size:16px;line-height:150%;font-family:   宋体">）</span>
                </p>
            </td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">消息类型</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">2</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned short</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">固定为</span><span style="font-size:16px;line-height:150%">1(</span><span style="font-size:16px;line-height:150%;font-family:宋体">定位消息</span><span style="font-size:16px;line-height:150%">)</span>
                </p>
            </td>
        </tr>
        <tr>
            <td width="9" rowspan="6" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:   宋体">时间</span>
                </p>
            </td>
            <td width="7" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">年</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">2</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned short</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
        </tr>
        <tr>
            <td width="7" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">月</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">1</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Byte</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
        </tr>
        <tr>
            <td width="7" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">日</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">1</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Byte</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
        </tr>
        <tr>
            <td width="7" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">时</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">1</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Byte</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
        </tr>
        <tr>
            <td width="7" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">分</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">1</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Byte</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
        </tr>
        <tr>
            <td width="7" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">秒</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">1</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">byte</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">必须</span>
                </p>
            </td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
        </tr>
        <tr>
            <td width="17" colspan="2" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">状态</span>
                </p>
            </td>
            <td width="9" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">2</span>
                </p>
            </td>
            <td width="23" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned short</span>
                </p>
            </td>
            <td width="14" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
            <td width="35" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;"></td>
        </tr>
    </tbody>
</table>
<p class="MsoListParagraph" style="text-indent:0">
    <span style="font-size:16px">&nbsp;</span>
</p>
<p class="MsoListParagraph" style="margin-bottom:auto;margin-left:27px">
    <strong><span style="font-size:16px;font-family:宋体">⒌<span style="font:9px &#39;Times New Roman&#39;">&nbsp; </span></span></strong><strong><span style="font-size:16px;font-family: 宋体">类型说明</span></strong>
</p>
<table width="100%">
    <tbody>
        <tr class="firstRow">
            <td width="28" valign="top" style="border: 1px solid windowtext; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:center;text-indent:   0">
                    <strong><span style="font-size:16px;font-family:宋体">类型</span></strong>
                </p>
            </td>
            <td width="71" valign="top" style="border-top: 1px solid windowtext; border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-image: initial; border-left: none; background: rgb(217, 217, 217); padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:center;text-indent:   0">
                    <strong><span style="font-size:16px;font-family:宋体">说明</span></strong>
                </p>
            </td>
        </tr>
        <tr>
            <td width="28" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Char</span>
                </p>
            </td>
            <td width="71" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">单字节字符</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="28" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Byte</span>
                </p>
            </td>
            <td width="71" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">单字节整数</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="28" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Double</span>
                </p>
            </td>
            <td width="71" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">8</span><span style="font-size:16px;line-height:   150%;font-family:宋体">字节双精度浮点型</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="28" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">Unsigned short</span>
                </p>
            </td>
            <td width="71" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:16px;line-height:150%;font-family:宋体">无符号</span><span style="font-size:16px;line-height:150%">2</span><span style="font-size:   16px;line-height:150%;font-family:宋体">字节整型</span> <span style="font-size:16px;line-height:150%;font-family:宋体">网络字节序</span>
                </p>
            </td>
        </tr>
        <tr style=";height:19px">
            <td width="28" valign="top" style="border-right: 1px solid windowtext; border-bottom: 1px solid windowtext; border-left: 1px solid windowtext; border-image: initial; border-top: none; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">int</span>
                </p>
            </td>
            <td width="71" valign="top" style="border-top: none; border-left: none; border-bottom: 1px solid windowtext; border-right: 1px solid windowtext; padding: 0px 7px;">
                <p class="MsoListParagraph" style="text-align:left;text-indent:0;line-height:150%">
                    <span style="font-size:   16px;line-height:150%">4</span><span style="font-size:16px;line-height:   150%;font-family:宋体">字节整型</span> <span style="font-size:   16px;line-height:150%;font-family:宋体">网络字节序</span>
                </p>
            </td>
        </tr>
    </tbody>
</table>
<p class="MsoListParagraph" style="margin-bottom:auto;text-indent:0">
    <span style="font-size:16px">&nbsp;</span>
</p>
<p>
    <span style="font-family:宋体">代码示例</span>
</p>
<p>
    C#:
</p>
<p>
    DataCoding.cs
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    using System;
</p>
<p>
    using System.Collections.Generic;
</p>
<p>
    using System.Text;
</p>
<p>
    &nbsp;
</p>
<p>
    namespace UdpEzMaticsTest
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp; public class DataCoding
</p>
<p>
    &nbsp;&nbsp;&nbsp; {//<span style="font-family:宋体">解析</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public byte[] ushortToBytes(int n)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] b = new byte[2];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[1] = (byte)(n &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[0] = (byte)((n &gt;&gt; 8) &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return b;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public byte[] intToBytes(int n)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[] b = new byte[4];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[3] = (byte)(n &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[2] = (byte)(n &gt;&gt; 8 &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[1] = (byte)(n &gt;&gt; 16 &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[0] = (byte)(n &gt;&gt; 24 &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return b;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public byte[] GpsFram(String gpsId, double longitudes, double latitudes, int dspeed, int dir, DateTime time)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">定义发送报文的包体大小</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] Buff = new byte[61];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">头定义</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[0] = (byte)0xAA;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;Buff[1] = (byte)0xAA;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[2] = (byte)0xCC;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[3] = (byte)0xCC;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[4] = (byte)0x22;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[5] = (byte)0x00;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">包体大小</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nBody = 51;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //61 <span style="font-family:宋体">转化为网络字节序</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] body = intToBytes(nBody);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int pos = 6;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; 4; i++)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = body[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // body
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //GPSID<span style="font-family:宋体">设备编号</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] temp = new byte[20];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //gpsId = &quot;GZMZ0120039&quot;;//<span style="font-family: 宋体">测试用</span>gpsId
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">使用平台的默认字符集将此</span> String <span style="font-family:宋体">编码为</span> byte <span style="font-family:宋体">序列，并将结果存储到一个新的</span> byte <span style="font-family:宋体">数组中</span>.
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp = Encoding.Default.GetBytes(gpsId);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //System.out.println(temp.length);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">当实际长度不足</span>20<span style="font-family:宋体">字节时，右补二进制</span>0
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; temp.Length; i++)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = temp[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<pre class="brush:html;toolbar:false"><br /></pre>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; 20 - temp.Length; i++)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = 0x00;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;pos++;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">经度字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //double longitudes = 0.0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] dx = BitConverter.GetBytes(longitudes);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; 8; i++)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos + i] = dx[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 8;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(&quot;<span style="font-family:宋体">经度为：</span>&quot; + longitudes);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">纬度字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //double latitudes = 0.0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] dy = BitConverter.GetBytes(latitudes);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; 8; i++)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos + i] = dy[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 8;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(&quot;<span style="font-family:宋体">纬度为：</span>&quot; + latitudes);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">速度字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] speeds = BitConverter.GetBytes(dspeed);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = speeds[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos + 1] = speeds[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<span style="font-family:宋体">方向字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] dirs = BitConverter.GetBytes(dir);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = dirs[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos + 1] = dirs[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">高度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double altitude = 0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] altitudeTT = BitConverter.GetBytes((int)altitude);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = altitudeTT[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos + 1] = altitudeTT[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">精度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)0x00;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos + 1] = (byte)0x00;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int years = time.Year;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int month = time.Month;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int day = time.Day;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int hours = time.Hour;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int minutes = time.Minute;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int seconds = time.Second;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] year = BitConverter.GetBytes(years);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = year[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos + 1] = year[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)month;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)day;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)hours;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)minutes;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)seconds;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Buff;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp; }
</p>
<p>
    }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    C++:
</p>
<p>
    testTrappDlg.h
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    // testTrappDlg.h : header file
</p>
<p>
    #pragma once
</p>
<p>
    #include &lt;string&gt;
</p>
<p>
    using namespace std;
</p>
<p>
    typedef struct _TVer2Head
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short head;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short cmd;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short version;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bodysize;
</p>
<p>
    }TVer2Head;
</p>
<p>
    &nbsp;
</p>
<p>
    typedef struct _TVer2Date
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short year;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE&nbsp;&nbsp; month;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE&nbsp;&nbsp; day;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE&nbsp;&nbsp; hour;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE&nbsp;&nbsp; minute;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE&nbsp;&nbsp; second;
</p>
<p>
    }TVer2Date;
</p>
<p>
    &nbsp;
</p>
<p>
    typedef struct _TVer2DataBody
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id[20];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dx;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dy;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short&nbsp; speed;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short&nbsp; dir;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short&nbsp; height;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short&nbsp; precision;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TVer2Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date;
</p>
<p>
    }TVer2DataBody;
</p>
<p>
    &nbsp;
</p>
<p>
    typedef struct _TVer2Fram
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TVer2Head&nbsp;&nbsp;&nbsp;&nbsp; ver2Head;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TVer2DataBody ver2Body;
</p>
<p>
    }TVer2Fram;
</p>
<p>
    &nbsp;
</p>
<p>
    // CtestTrappDlg dialog
</p>
<p>
    class CtestTrappDlg : public CDialogEx
</p>
<p>
    {
</p>
<p>
    // Construction
</p>
<p>
    public:
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CtestTrappDlg(CWnd* pParent = NULL);&nbsp;&nbsp; // standard constructor
</p>
<p>
    &nbsp;
</p>
<p>
    // Dialog Data
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enum { IDD = IDD_TESTTRAPP_DIALOG };
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protected:
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; virtual void DoDataExchange(CDataExchange* pDX);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // DDX/DDV support
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    // Implementation
</p>
<p>
    protected:
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HICON m_hIcon;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Generated message map functions
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; virtual BOOL OnInitDialog();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; afx_msg void OnSysCommand(UINT nID, LPARAM lParam);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; afx_msg void OnPaint();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; afx_msg HCURSOR OnQueryDragIcon();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DECLARE_MESSAGE_MAP()
</p>
<p>
    public:
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; afx_msg void OnBnClickedButton1();
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void SendToTracingServer(string strGpsID, double dx, double dy, unsigned short speed, unsigned short dir, unsigned short height,
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short precision, unsigned short year, BYTE month, BYTE day, BYTE hour, BYTE minute, BYTE second, string strRemark);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void SendToTrackingApp(char *szBuff, int iSize);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CString m_strIP;
</p>
<p>
    //&nbsp;&nbsp;&nbsp;&nbsp; int m_strPort;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int m_iPort;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SOCKET m_DGRAMSock;
</p>
<p>
    };
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    testTrappDlg.cpp
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    // testTrappDlg.cpp : implementation file
</p>
<p>
    #include &quot;stdafx.h&quot;
</p>
<p>
    #include &quot;testTrapp.h&quot;
</p>
<p>
    #include &quot;testTrappDlg.h&quot;
</p>
<p>
    #include &quot;afxdialogex.h&quot;
</p>
<p>
    #include &lt;afxsock.h&gt;
</p>
<p>
    #ifdef _DEBUG
</p>
<p>
    #define new DEBUG_NEW
</p>
<p>
    #endif
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    // CAboutDlg dialog used for App About
</p>
<p>
    &nbsp;
</p>
<p>
    class CAboutDlg : public CDialogEx
</p>
<p>
    {
</p>
<p>
    public:
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CAboutDlg();
</p>
<p>
    &nbsp;
</p>
<p>
    // Dialog Data
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enum { IDD = IDD_ABOUTBOX };
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protected:
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; virtual void DoDataExchange(CDataExchange* pDX);&nbsp;&nbsp;&nbsp; // DDX/DDV support
</p>
<p>
    &nbsp;
</p>
<p>
    // Implementation
</p>
<p>
    protected:
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DECLARE_MESSAGE_MAP()
</p>
<p>
    };
</p>
<p>
    &nbsp;
</p>
<p>
    CAboutDlg::CAboutDlg() : CDialogEx(CAboutDlg::IDD)
</p>
<p>
    {
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    void CAboutDlg::DoDataExchange(CDataExchange* pDX)
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CDialogEx::DoDataExchange(pDX);
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    BEGIN_MESSAGE_MAP(CAboutDlg, CDialogEx)
</p>
<p>
    END_MESSAGE_MAP()
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    // CtestTrappDlg dialog
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    CtestTrappDlg::CtestTrappDlg(CWnd* pParent /*=NULL*/)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : CDialogEx(CtestTrappDlg::IDD, pParent)
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_hIcon = AfxGetApp()-&gt;LoadIcon(IDR_MAINFRAME);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_strIP = _T(&quot;&quot;);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp; m_strPort = 0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_iPort = 0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_DGRAMSock = INVALID_SOCKET;
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    void CtestTrappDlg::DoDataExchange(CDataExchange* pDX)
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CDialogEx::DoDataExchange(pDX);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DDX_Text(pDX, IDC_EDIT_IP, m_strIP);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp; DDX_Text(pDX, IDC_EDIT_PORT, m_strPort);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DDX_Text(pDX, IDC_EDIT_PORT, m_iPort);
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    BEGIN_MESSAGE_MAP(CtestTrappDlg, CDialogEx)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON_WM_SYSCOMMAND()
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON_WM_PAINT()
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON_WM_QUERYDRAGICON()
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON_BN_CLICKED(IDC_BUTTON1, &amp;CtestTrappDlg::OnBnClickedButton1)
</p>
<p>
    END_MESSAGE_MAP()
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    // CtestTrappDlg message handlers
</p>
<p>
    &nbsp;
</p>
<p>
    BOOL CtestTrappDlg::OnInitDialog()
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CDialogEx::OnInitDialog();
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Add &quot;About...&quot; menu item to system menu.
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // IDM_ABOUTBOX must be in the system command range.
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASSERT((IDM_ABOUTBOX &amp; 0xFFF0) == IDM_ABOUTBOX);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASSERT(IDM_ABOUTBOX &lt; 0xF000);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CMenu* pSysMenu = GetSystemMenu(FALSE);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (pSysMenu != NULL)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BOOL bNameValid;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CString strAboutMenu;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bNameValid = strAboutMenu.LoadString(IDS_ABOUTBOX);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASSERT(bNameValid);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!strAboutMenu.IsEmpty())
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pSysMenu-&gt;AppendMenu(MF_SEPARATOR);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pSysMenu-&gt;AppendMenu(MF_STRING, IDM_ABOUTBOX, strAboutMenu);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Set the icon for this dialog.&nbsp; The framework does this automatically
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp; when the application&#39;s main window is not a dialog
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetIcon(m_hIcon, TRUE);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Set big icon
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetIcon(m_hIcon, FALSE);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Set small icon
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // TODO: Add extra initialization here
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return TRUE;&nbsp; // return TRUE&nbsp; unless you set the focus to a control
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    void CtestTrappDlg::OnSysCommand(UINT nID, LPARAM lParam)
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((nID &amp; 0xFFF0) == IDM_ABOUTBOX)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CAboutDlg dlgAbout;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dlgAbout.DoModal();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CDialogEx::OnSysCommand(nID, lParam);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    // If you add a minimize button to your dialog, you will need the code below
</p>
<p>
    //&nbsp; to draw the icon.&nbsp; For MFC applications using the document/view model,
</p>
<p>
    //&nbsp; this is automatically done for you by the framework.
</p>
<p>
    &nbsp;
</p>
<p>
    void CtestTrappDlg::OnPaint()
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (IsIconic())
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CPaintDC dc(this); // device context for painting
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SendMessage(WM_ICONERASEBKGND, reinterpret_cast&lt;WPARAM&gt;(dc.GetSafeHdc()), 0);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Center icon in client rectangle
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int cxIcon = GetSystemMetrics(SM_CXICON);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int cyIcon = GetSystemMetrics(SM_CYICON);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CRect rect;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GetClientRect(&amp;rect);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int x = (rect.Width() - cxIcon + 1) / 2;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int y = (rect.Height() - cyIcon + 1) / 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Draw the icon
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dc.DrawIcon(x, y, m_hIcon);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CDialogEx::OnPaint();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    // The system calls this function to obtain the cursor to display while the user drags
</p>
<p>
    //&nbsp; the minimized window.
</p>
<p>
    HCURSOR CtestTrappDlg::OnQueryDragIcon()
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return static_cast&lt;HCURSOR&gt;(m_hIcon);
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;
</p>
<p>
    void CtestTrappDlg::OnBnClickedButton1()
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UpdateData(TRUE);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WSADATA&nbsp; wsd;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (WSAStartup(MAKEWORD(2,2), &amp;wsd) != 0)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WSACleanup();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (INVALID_SOCKET==m_DGRAMSock)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_DGRAMSock= socket(AF_INET, SOCK_DGRAM, 0);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short year = 2015;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE month = 9;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE day = 25;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE hour = 18;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE minute = 5;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTE second = 10;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SendToTracingServer(&quot;20003&quot;, 111.23, 34.56, 0, 0, 0, 0, year, month, day, hour, minute, second, &quot;<span style="font-family:宋体">测试用例</span>&quot; );
</p>
<p>
    &nbsp;
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    void CtestTrappDlg::SendToTracingServer(string strGpsID, double dx, double dy, unsigned short speed, unsigned short dir, unsigned short height,
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned short precision, unsigned short year, BYTE month, BYTE day, BYTE hour, BYTE minute, BYTE second, string strRemark)
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TVer2Fram *pGpsFram = new TVer2Fram;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset(pGpsFram,0,sizeof(TVer2Fram));
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Head.head&nbsp;&nbsp;&nbsp;&nbsp; = 0xAAAA;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Head.cmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 0xCCCC;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Head.version&nbsp; = 0x2200;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nSize = sizeof(TVer2DataBody) + strRemark.size();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Head.bodysize = htonl(nSize);&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">包体大小</span>
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strcpy(pGpsFram-&gt;ver2Body.id,strGpsID.c_str());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //GPSID
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.dx = dx;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">纬度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.dy = dy;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">经度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.speed =htons(speed); //<span style="font-family:宋体">速度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.dir =htons(dir);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">方向</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.height = htons(height);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">高度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.precision = htons(precision);&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">精度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.date.year = htons(year);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">时间</span> <span style="font-family:宋体">年</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.date.month = month;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">月</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.date.day = day;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">日</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.date.hour = hour;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">时</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.date.minute = minute;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">分</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram-&gt;ver2Body.date.second = second;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">秒</span>
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char szBuff[1024];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset(szBuff, &#39;\0&#39;, 1024);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memcpy(szBuff, pGpsFram, sizeof(TVer2Fram));
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memcpy(szBuff+ sizeof(TVer2Fram), strRemark.c_str(), strRemark.size());
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nSize += sizeof(TVer2Head);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SendToTrackingApp(szBuff, nSize);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete pGpsFram;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pGpsFram = NULL;
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    void CtestTrappDlg::SendToTrackingApp(char *szBuff, int iSize)
</p>
<p>
    {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (m_DGRAMSock != INVALID_SOCKET)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char szIp[32] = {0};
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sprintf(szIp,&nbsp; &quot;127.0.0.1&quot;);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SOCKADDR_IN&nbsp; addr;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset((char *) &amp;addr, 0, sizeof(addr));
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; addr.sin_family&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = AF_INET;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; addr.sin_addr.s_addr = htonl(ntohl(inet_addr(szIp)));
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; addr.sin_port&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = htons(m_iPort);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nLeng = strlen(szBuff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int val = sendto(m_DGRAMSock, szBuff, iSize, 0,
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (sockaddr *) &amp;addr, sizeof(addr)) ;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i= 0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    JAVA:
</p>
<p>
    BitConverter.java
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    package com.easymap.manager.imp;
</p>
<p>
    &nbsp;
</p>
<p>
    public class BitConverter {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static String byteArrayToString(byte[] data) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StringBuilder sb = new StringBuilder();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (byte b : data) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sb.append(String.format(&quot;%02X&quot;, b));
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.toString();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static byte[] StringToByteArray(String data) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int NumberChars = data.length();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] bytes = new byte[NumberChars / 2];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; NumberChars; i += 2)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bytes[i / 2] = (byte)Integer.valueOf(data.substring(i, i+2),16).intValue();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return bytes;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /**
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* <span style="font-family:宋体">把</span>double<span style="font-family:宋体">型数据转换成</span>byte<span style="font-family:宋体">类型</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @param d
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @return
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;*/
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static byte[] doubleToByte(double d){
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] b=new byte[8];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long l=Double.doubleToLongBits(d);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int i=0;i&lt;b.length;i++){
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[i]=new Long(l).byteValue();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l=l&gt;&gt;8;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return b;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /**
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* <span style="font-family:宋体">把</span>int<span style="font-family:宋体">型数据转换成</span>byte<span style="font-family:宋体">类型</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @param number
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @return
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;*/
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static byte[] intToByte(int number) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int temp = number;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] b=new byte[4];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i=b.length-1;i&gt;-1;i--){
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[i] = new Integer(temp&amp;0xff).byteValue();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">将最高位保存在最低位</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp = temp &gt;&gt; 8;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">向右移</span>8<span style="font-family: 宋体">位</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return b;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /**
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* <span style="font-family:宋体">把</span>byte<span style="font-family:宋体">型数据转换成</span>long<span style="font-family:宋体">类型</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @param bb
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @param index
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @return
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;*/
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static long getLong(byte[] bb, int index) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; return ((((long) bb[index + 0] &amp; 0xff) &lt;&lt; 56)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; | (((long) bb[index + 1] &amp; 0xff) &lt;&lt; 48)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; | (((long) bb[index + 2] &amp; 0xff) &lt;&lt; 40)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; | (((long) bb[index + 3] &amp; 0xff) &lt;&lt; 32)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; | (((long) bb[index + 4] &amp; 0xff) &lt;&lt; 24)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; | (((long) bb[index + 5] &amp; 0xff) &lt;&lt; 16)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; | (((long) bb[index + 6] &amp; 0xff) &lt;&lt; 8) | (((long) bb[index + 7] &amp; 0xff) &lt;&lt; 0));
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    DataCoding.java
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    package com.easymap.manager.imp;
</p>
<p>
    &nbsp;
</p>
<p>
    import com.easymap.manager.imp.BitConverter;
</p>
<p>
    &nbsp;
</p>
<p>
    public class DataCoding {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;/**
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* <span style="font-family:宋体">解析</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @param int <span style="font-family: 宋体">：类型转换</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;* @return byte[]
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;*/
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public byte[] ushortToBytes(int n) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; byte[] b = new byte[2];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; b[1] = (byte) ( n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; b[0] = (byte) ((n &gt;&gt; 8) &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return b;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /**
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * <span style="font-family:宋体">解析</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param int <span style="font-family:宋体">：类型转换</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return byte[]
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public byte[] intToBytes(int n) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] b = new byte[4];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[3] = (byte) (n &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[2] = (byte) (n &gt;&gt; 8 &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[1] = (byte) (n &gt;&gt; 16 &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b[0] = (byte) (n &gt;&gt; 24 &amp; 0xff);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return b;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public byte[] GpsFram(String gpsId,double longitudes,double latitudes,int dspeed,int&nbsp; dir,String time){
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">定义发送报文的包体大小</span>
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] Buff = new byte[61];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">头定义</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[0] = (byte)0xAA;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[1] = (byte)0xAA;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[2] = (byte)0xCC;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[3] = (byte)0xCC;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[4] = (byte)0x22;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[5] = (byte)0x00;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">包体大小</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nBody = 51;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //61 <span style="font-family:宋体">转化为网络字节序</span>
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte []body = intToBytes(nBody);
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int pos = 6;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int i=0;i&lt;4;i++) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Buff[i+6] = body[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Buff[pos] = body[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">开始填充</span>body
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //GPSID<span style="font-family:宋体">设备编号</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte []temp = new byte[20];
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">使用平台的默认字符集将此</span> String <span style="font-family:宋体">编码为</span> byte <span style="font-family:宋体">序列，并将结果存储到一个新的</span> byte <span style="font-family:宋体">数组中</span>.
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp =&nbsp; gpsId.getBytes();
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">当实际长度不足</span>20<span style="font-family:宋体">字节时，右补二进制</span>0
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int i=0;i&lt;temp.length;i++){
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = temp[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int i=0;i&lt;20-temp.length;i++){
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = 0x00;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">经度字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //double longitudes = 0.0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte []dx=BitConverter.doubleToByte(longitudes);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int i= 0;i&lt;8;i++)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos+i] = dx[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 8;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;<span style="font-family:宋体">经度为：</span>&quot;+longitudes);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">纬度字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //double latitudes = 0.0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte []dy = BitConverter.doubleToByte(latitudes);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int i= 0;i&lt;8;i++)
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos +i] =dy[i];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 8;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;<span style="font-family:宋体">纬度为：</span>&quot;+latitudes);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">速度字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //int dspeed = 0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte []speeds = ushortToBytes(dspeed);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = speeds[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos +1 ] = speeds[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">方向字段</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //int&nbsp; dir = 0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte []dirs = ushortToBytes(dir);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos ] = dirs[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos +1 ] = dirs[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <span style="font-family:宋体">高度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double altitude =0;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte[] altitudeTT = BitConverter.intToByte((int)altitude);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = altitudeTT[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos +1] = altitudeTT[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">精度</span>
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)0x00;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos+1] = (byte)0x00;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try{
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体">时间处理的部分，这个是跟随传入形式改变的，</span>begin
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String years =&quot;2013&quot;;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String month =&quot;05&quot;;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String day =&quot;10&quot;;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String hours =&quot;12&quot;;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String minutes =&quot;10&quot;;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String seconds =&quot;10&quot;;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //end
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nYear = Integer.parseInt(years);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byte []year = ushortToBytes(nYear);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos ] = year[1];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos +1 ] = year[0];
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos += 2;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nMon = Integer.parseInt(month);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)nMon;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nDay = Integer.parseInt(day);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)nDay;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nHour = Integer.parseInt(hours);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)nHour;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nMin = Integer.parseInt(minutes);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)nMin;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nSec = Integer.parseInt(seconds);
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Buff[pos] = (byte)nSec;
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch (Exception e) {
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;e.printStackTrace();
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    &nbsp;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Buff;
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</p>
<p>
    }
</p>
<p>
    &nbsp;
</p>
<p>
    <br />
</p>